/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./app/client.ts":
/*!***********************!*\
  !*** ./app/client.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var app_gameConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/gameConstants */ \"./app/gameConstants.ts\");\n/* harmony import */ var app_htmlElements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/htmlElements */ \"./app/htmlElements.ts\");\n/* harmony import */ var app_pet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/pet */ \"./app/pet.ts\");\n/* harmony import */ var app_tasks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/tasks */ \"./app/tasks.ts\");\n/* harmony import */ var app_goal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/goal */ \"./app/goal.ts\");\n/* harmony import */ var app_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/state */ \"./app/state.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction hidePage(page) {\r\n    page.style.display = 'none';\r\n}\r\nfunction displayPage(page) {\r\n    //hide all the pages in array\r\n    for (let i = 0; i < app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.pages.length; i++) {\r\n        hidePage(app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.pages[i]);\r\n    }\r\n    page.style.display = 'block';\r\n}\r\nfunction taskPageActions() {\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.newTask.onclick = () => {\r\n        (0,app_tasks__WEBPACK_IMPORTED_MODULE_3__.newTask)();\r\n    };\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.tasksList.onclick = () => {\r\n        app_state__WEBPACK_IMPORTED_MODULE_5__.state.taskIndex = [...app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.tasksList.children].indexOf(event === null || event === void 0 ? void 0 : event.target);\r\n        (0,app_tasks__WEBPACK_IMPORTED_MODULE_3__.editTask)();\r\n    };\r\n}\r\nfunction goalPageActions() {\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.newGoal.onclick = () => {\r\n        (0,app_goal__WEBPACK_IMPORTED_MODULE_4__.newGoal)();\r\n    };\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.goalsList.onclick = () => {\r\n        app_state__WEBPACK_IMPORTED_MODULE_5__.state.goalIndex = [...app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.goalsList.children].indexOf(event === null || event === void 0 ? void 0 : event.target);\r\n        (0,app_goal__WEBPACK_IMPORTED_MODULE_4__.editGoal)();\r\n    };\r\n}\r\napp_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.home.onclick = () => {\r\n    displayPage(app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.pages[0]);\r\n};\r\napp_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.tasks.onclick = () => {\r\n    displayPage(app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.pages[1]);\r\n    taskPageActions();\r\n};\r\napp_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.goals.onclick = () => {\r\n    displayPage(app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.pages[2]);\r\n    goalPageActions();\r\n};\r\napp_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.stats.onclick = () => {\r\n    displayPage(app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.pages[3]);\r\n};\r\napp_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.settings.onclick = () => {\r\n    displayPage(app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.pages[4]);\r\n};\r\nfunction update() {\r\n    (0,app_tasks__WEBPACK_IMPORTED_MODULE_3__.checkTasks)();\r\n    (0,app_goal__WEBPACK_IMPORTED_MODULE_4__.checkGoals)();\r\n    (0,app_pet__WEBPACK_IMPORTED_MODULE_2__.petAction)();\r\n}\r\nsetInterval(update, 1000 / app_gameConstants__WEBPACK_IMPORTED_MODULE_0__.fps);\r\n\n\n//# sourceURL=webpack://alttp/./app/client.ts?");

/***/ }),

/***/ "./app/gameConstants.ts":
/*!******************************!*\
  !*** ./app/gameConstants.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fps: () => (/* binding */ fps),\n/* harmony export */   goalDef: () => (/* binding */ goalDef),\n/* harmony export */   petDef: () => (/* binding */ petDef),\n/* harmony export */   taskDef: () => (/* binding */ taskDef)\n/* harmony export */ });\nconst sec = 1;\r\nconst min = sec * 60;\r\nconst hour = min * 60;\r\nconst day = hour * 24;\r\nconst fps = 50;\r\nconst petDef = {\r\n    maxHealth: 4,\r\n    minusLove: 10,\r\n    plusLove: 2,\r\n    maxHunger: 1000,\r\n    minLifeSpan: day / (24 * 60),\r\n    feed: 100,\r\n    initialSize: 200,\r\n    maxSize: 600,\r\n    matureIn: min,\r\n    color: [\r\n        'red',\r\n        'yellow',\r\n        'green',\r\n        'blue',\r\n    ],\r\n};\r\nconst taskDef = {\r\n    submitCd: 0,\r\n    startEating: 3 * sec,\r\n    duration: 3 * sec,\r\n    repeatCd: 10 * sec,\r\n};\r\nconst goalDef = {\r\n    submitCd: 0, //10 * sec,\r\n};\r\n\n\n//# sourceURL=webpack://alttp/./app/gameConstants.ts?");

/***/ }),

/***/ "./app/goal.ts":
/*!*********************!*\
  !*** ./app/goal.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkGoals: () => (/* binding */ checkGoals),\n/* harmony export */   editGoal: () => (/* binding */ editGoal),\n/* harmony export */   newGoal: () => (/* binding */ newGoal)\n/* harmony export */ });\n/* harmony import */ var app_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/state */ \"./app/state.ts\");\n/* harmony import */ var app_htmlElements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/htmlElements */ \"./app/htmlElements.ts\");\n/* harmony import */ var app_gameConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/gameConstants */ \"./app/gameConstants.ts\");\n\r\n\r\n\r\n//task results\r\nfunction failGoal() {\r\n    //state.pet.love -= petDef.minusLove\r\n}\r\nfunction succeedGoal() {\r\n    //state.pet.love += petDef.plusLove\r\n}\r\n//task logic\r\nfunction displayGoals() {\r\n    // TODO: Render a list of tasks to tasksListContainer based on \r\n    // the list of tasks in state.tasks.\r\n    let listHTML = '';\r\n    for (const goal of app_state__WEBPACK_IMPORTED_MODULE_0__.state.goals) {\r\n        listHTML += '<button class=\"listItemButton\">' + goal.name + ' ' + '|' + ' ' + goal.date + ' ' + goal.time + '</button>';\r\n    }\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.goalsList.innerHTML = listHTML;\r\n}\r\nfunction initNewGoalForm() {\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.goalName.value = '';\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.goalDate.value = '';\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.goalTime.value = '';\r\n}\r\nfunction getTimeStamp(strDateTime) {\r\n    const date = Date.parse(strDateTime);\r\n    return Math.floor(date / 1000);\r\n}\r\nfunction addGoal() {\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.newTaskForm.style.display = 'none';\r\n    const now = new Date();\r\n    const year = now.getFullYear();\r\n    const month = now.getMonth() + 1;\r\n    const date = now.getDate();\r\n    const newGoal = {\r\n        name: app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.goalName.value || 'Unnamed',\r\n        date: app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.goalDate.value || (year + '-' + month + '-' + date),\r\n        time: app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.goalTime.value || '23:59',\r\n        canSubmitTime: (Date.now() / 1000) + app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.goalDef.submitCd,\r\n        canSubmit: false,\r\n    };\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.goals.push(newGoal);\r\n    displayGoals();\r\n}\r\nfunction newGoal() {\r\n    initNewGoalForm();\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.newGoalForm.style.display = 'block';\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.cancelNewGoal.onclick = () => {\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.newGoalForm.style.display = 'none';\r\n    };\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.enterGoal.onclick = () => {\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.newGoalForm.style.display = 'none';\r\n        addGoal();\r\n    };\r\n}\r\nfunction deleteGoal(i) {\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.goals.splice(i, 1);\r\n    displayGoals();\r\n}\r\nfunction editGoal() {\r\n    if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.goalIndex >= 0) {\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.editGoalWindow.style.display = 'block';\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.deleteGoal.onclick = () => {\r\n            deleteGoal(app_state__WEBPACK_IMPORTED_MODULE_0__.state.goalIndex);\r\n            app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.editGoalWindow.style.display = 'none';\r\n        };\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.submitGoal.onclick = () => {\r\n            if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.goals[app_state__WEBPACK_IMPORTED_MODULE_0__.state.goalIndex].canSubmit) {\r\n                deleteGoal(app_state__WEBPACK_IMPORTED_MODULE_0__.state.goalIndex);\r\n                succeedGoal();\r\n                app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.editGoalWindow.style.display = 'none';\r\n            }\r\n        };\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.cancelEditGoal.onclick = () => {\r\n            app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.editGoalWindow.style.display = 'none';\r\n        };\r\n    }\r\n}\r\nfunction checkGoals() {\r\n    for (let i = 0; i < app_state__WEBPACK_IMPORTED_MODULE_0__.state.goals.length; i++) {\r\n        const due = getTimeStamp(app_state__WEBPACK_IMPORTED_MODULE_0__.state.goals[i].date + ' ' + app_state__WEBPACK_IMPORTED_MODULE_0__.state.goals[i].time);\r\n        const now = Math.floor(Date.now() / 1000);\r\n        //check goals if expired and remove \r\n        if (due < now) {\r\n            deleteGoal(i);\r\n            failGoal();\r\n        }\r\n        //checks task submit cd\r\n        if (now > app_state__WEBPACK_IMPORTED_MODULE_0__.state.goals[i].canSubmitTime) {\r\n            app_state__WEBPACK_IMPORTED_MODULE_0__.state.goals[i].canSubmit = true;\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://alttp/./app/goal.ts?");

/***/ }),

/***/ "./app/htmlElements.ts":
/*!*****************************!*\
  !*** ./app/htmlElements.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buttons: () => (/* binding */ buttons),\n/* harmony export */   divs: () => (/* binding */ divs),\n/* harmony export */   inputs: () => (/* binding */ inputs),\n/* harmony export */   pages: () => (/* binding */ pages)\n/* harmony export */ });\nfunction requireElementById(id) {\r\n    const element = document.getElementById(id);\r\n    if (!element) {\r\n        throw new Error(`Could not find element with id ${id}`);\r\n    }\r\n    return element;\r\n}\r\nfunction getButton(id) {\r\n    return requireElementById(id);\r\n}\r\nfunction getDiv(id) {\r\n    return requireElementById(id);\r\n}\r\nfunction getInput(id) {\r\n    return requireElementById(id);\r\n}\r\nconst newTaskButton = getButton('newTask');\r\nconst enterTaskButton = getButton('enterTask');\r\nconst deleteTaskButton = getButton('deleteTask');\r\nconst submitTaskButton = getButton('submitTask');\r\nconst cancelEditTaskButton = getButton('cancelEditTask');\r\nconst cancelNewTaskButton = getButton('cancelNewTask');\r\nconst repeatButton = getButton('repeat');\r\nconst newGoalButton = getButton('newGoal');\r\nconst enterGoalButton = getButton('enterGoal');\r\nconst deleteGoalButton = getButton('deleteGoal');\r\nconst submitGoalButton = getButton('submitGoal');\r\nconst cancelEditGoalButton = getButton('cancelEditGoal');\r\nconst cancelNewGoalButton = getButton('cancelNewGoal');\r\nconst taskDateInput = getInput('taskDateInput');\r\nconst taskTimeInput = getInput('taskTimeInput');\r\nconst taskNameInput = getInput('taskNameInput');\r\nconst goalDateInput = getInput('goalDateInput');\r\nconst goalTimeInput = getInput('goalTimeInput');\r\nconst goalNameInput = getInput('goalNameInput');\r\nconst newTaskForm = getDiv('newTaskForm');\r\nconst tasksList = getDiv('tasksList');\r\nconst editTaskWindow = getDiv('editTaskWindow');\r\nconst newGoalForm = getDiv('newGoalForm');\r\nconst goalsList = getDiv('goalsList');\r\nconst editGoalWindow = getDiv('editGoalWindow');\r\n//const hungerBar = getDiv('hungerBar');\r\nconst pet = getDiv('pet');\r\nconst hungerMeter = getDiv('hungerMeter');\r\nconst loveMeter = getDiv('loveMeter');\r\nconst homeButton = getDiv('homeButton');\r\nconst tasksButton = getDiv('tasksButton');\r\nconst goalsButton = getDiv('goalsButton');\r\nconst statsButton = getDiv('statsButton');\r\nconst settingsButton = getDiv('settingsButton');\r\nconst defaultPage = getDiv('defaultPage');\r\nconst tasksPage = getDiv('tasksPage');\r\nconst goalsPage = getDiv('goalsPage');\r\nconst statsPage = getDiv('statsPage');\r\nconst settingsPage = getDiv('settingsPage');\r\nconst pages = [\r\n    defaultPage,\r\n    tasksPage,\r\n    goalsPage,\r\n    statsPage,\r\n    settingsPage,\r\n];\r\nconst buttons = {\r\n    home: homeButton,\r\n    tasks: tasksButton,\r\n    goals: goalsButton,\r\n    stats: statsButton,\r\n    settings: settingsButton,\r\n    newTask: newTaskButton,\r\n    enterTask: enterTaskButton,\r\n    deleteTask: deleteTaskButton,\r\n    submitTask: submitTaskButton,\r\n    cancelNewTask: cancelNewTaskButton,\r\n    cancelEditTask: cancelEditTaskButton,\r\n    repeat: repeatButton,\r\n    newGoal: newGoalButton,\r\n    enterGoal: enterGoalButton,\r\n    deleteGoal: deleteGoalButton,\r\n    submitGoal: submitGoalButton,\r\n    cancelNewGoal: cancelNewGoalButton,\r\n    cancelEditGoal: cancelEditGoalButton,\r\n};\r\nconst divs = {\r\n    newTaskForm: newTaskForm,\r\n    tasksList: tasksList,\r\n    editTaskWindow: editTaskWindow,\r\n    newGoalForm: newGoalForm,\r\n    goalsList: goalsList,\r\n    editGoalWindow: editGoalWindow,\r\n    pet: pet,\r\n    hungerMeter: hungerMeter,\r\n    loveMeter: loveMeter,\r\n};\r\nconst inputs = {\r\n    taskDate: taskDateInput,\r\n    taskTime: taskTimeInput,\r\n    taskName: taskNameInput,\r\n    goalDate: goalDateInput,\r\n    goalTime: goalTimeInput,\r\n    goalName: goalNameInput,\r\n};\r\n\n\n//# sourceURL=webpack://alttp/./app/htmlElements.ts?");

/***/ }),

/***/ "./app/pet.ts":
/*!********************!*\
  !*** ./app/pet.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   petAction: () => (/* binding */ petAction)\n/* harmony export */ });\n/* harmony import */ var app_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/state */ \"./app/state.ts\");\n/* harmony import */ var app_gameConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/gameConstants */ \"./app/gameConstants.ts\");\n/* harmony import */ var app_htmlElements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/htmlElements */ \"./app/htmlElements.ts\");\n\r\n\r\n\r\n//pet actions\r\nfunction setPetColor(color) {\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_2__.divs.pet.style.backgroundColor = color;\r\n}\r\nfunction updatePetStatus() {\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_2__.divs.pet.style.height = app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.size + 'px';\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_2__.divs.pet.style.width = app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.size + 'px';\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_2__.divs.pet.style.marginTop = -app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.size / 2 + 'px';\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_2__.divs.hungerMeter.innerHTML = 'fullness:' + ' ' + (app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.hunger * 100 / app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.petDef.maxHunger).toFixed(0) + '%';\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_2__.divs.loveMeter.innerHTML = 'love:' + ' ' + app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.love;\r\n    //hungerBar.style.width = state.pet.hunger * 100 / petDef.maxHunger + '%'\r\n}\r\nfunction petAction() {\r\n    updatePetStatus();\r\n    if (!app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.alive) {\r\n        setPetColor('black');\r\n    }\r\n    else {\r\n        app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.hunger -= app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.petDef.maxHunger / (app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.petDef.minLifeSpan * app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.fps);\r\n        if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.hunger <= 0) {\r\n            app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.alive = false;\r\n        }\r\n        app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.health = Math.floor(app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.hunger / (app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.petDef.maxHunger / app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.petDef.maxHealth));\r\n        setPetColor(app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.petDef.color[app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.health]);\r\n        if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.size < app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.petDef.maxSize) {\r\n            app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.size += (app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.petDef.maxSize - app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.petDef.initialSize) / (app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.petDef.matureIn * app_gameConstants__WEBPACK_IMPORTED_MODULE_1__.fps);\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://alttp/./app/pet.ts?");

/***/ }),

/***/ "./app/state.ts":
/*!**********************!*\
  !*** ./app/state.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   state: () => (/* binding */ state)\n/* harmony export */ });\nconst state = {\r\n    tasks: [],\r\n    goals: [],\r\n    repeatPressed: false,\r\n    taskIndex: 0,\r\n    goalIndex: 0,\r\n    pet: {\r\n        love: 0,\r\n        health: 4,\r\n        hunger: 1000,\r\n        size: 200,\r\n        alive: true,\r\n    }\r\n};\r\n\n\n//# sourceURL=webpack://alttp/./app/state.ts?");

/***/ }),

/***/ "./app/tasks.ts":
/*!**********************!*\
  !*** ./app/tasks.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkTasks: () => (/* binding */ checkTasks),\n/* harmony export */   editTask: () => (/* binding */ editTask),\n/* harmony export */   newTask: () => (/* binding */ newTask)\n/* harmony export */ });\n/* harmony import */ var app_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/state */ \"./app/state.ts\");\n/* harmony import */ var app_htmlElements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/htmlElements */ \"./app/htmlElements.ts\");\n/* harmony import */ var app_gameConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/gameConstants */ \"./app/gameConstants.ts\");\n\r\n\r\n\r\n//task results\r\nfunction failTask() {\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.love -= app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.petDef.minusLove;\r\n}\r\nfunction deletePen1() {\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.love -= 2;\r\n}\r\nfunction deletePen2() {\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.love -= 10;\r\n}\r\nfunction succeedTask() {\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.love += app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.petDef.plusLove;\r\n}\r\nfunction feedPet() {\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.pet.hunger += app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.petDef.feed / (app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.taskDef.duration * app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.fps);\r\n}\r\n//task logic\r\nfunction displayTasks() {\r\n    // TODO: Render a list of tasks to tasksListContainer based on \r\n    // the list of tasks in state.tasks.\r\n    let listHTML = '';\r\n    for (const task of app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks) {\r\n        if (task.displayed) {\r\n            listHTML += '<button class=\"listItemButton\">' + task.name + ' ' + '|' + ' ' + task.date + ' ' + task.time + '</button>';\r\n        }\r\n    }\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.tasksList.innerHTML = listHTML;\r\n}\r\nfunction initNewTaskForm() {\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.taskName.value = '';\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.taskDate.value = '';\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.taskTime.value = '';\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.repeatPressed = false;\r\n}\r\nfunction getTimeStamp(strDateTime) {\r\n    const date = Date.parse(strDateTime);\r\n    return Math.floor(date / 1000);\r\n}\r\nfunction addTask() {\r\n    const now = new Date();\r\n    const year = now.getFullYear();\r\n    const month = now.getMonth() + 1;\r\n    const date = now.getDate();\r\n    const newtask = {\r\n        name: app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.taskName.value || 'Unnamed',\r\n        date: app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.taskDate.value || (year + '-' + month + '-' + date),\r\n        time: app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.inputs.taskTime.value || '23:59',\r\n        canSubmitTime: (Date.now() / 1000) + app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.taskDef.submitCd,\r\n        canSubmit: false,\r\n        startFeed: (Date.now() / 1000) + app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.taskDef.startEating,\r\n        isFeeding: false,\r\n        endFeed: (Date.now() / 1000) + app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.taskDef.startEating + app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.taskDef.duration,\r\n        finishFeeding: false,\r\n        repeats: false,\r\n        displayed: true,\r\n    };\r\n    if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.repeatPressed) {\r\n        newtask.repeats = true;\r\n    }\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks.push(newtask);\r\n    displayTasks();\r\n    console.log(newtask.repeats);\r\n}\r\nfunction newTask() {\r\n    initNewTaskForm();\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.newTaskForm.style.display = 'block';\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.repeat.onclick = () => {\r\n        if (!app_state__WEBPACK_IMPORTED_MODULE_0__.state.repeatPressed) {\r\n            app_state__WEBPACK_IMPORTED_MODULE_0__.state.repeatPressed = true;\r\n        }\r\n        else {\r\n            app_state__WEBPACK_IMPORTED_MODULE_0__.state.repeatPressed = false;\r\n        }\r\n    };\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.cancelNewTask.onclick = () => {\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.newTaskForm.style.display = 'none';\r\n    };\r\n    app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.enterTask.onclick = () => {\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.newTaskForm.style.display = 'none';\r\n        addTask();\r\n    };\r\n}\r\nfunction hideTask(i) {\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].displayed = false;\r\n    displayTasks();\r\n}\r\nfunction showTask(i) {\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].displayed = true;\r\n    displayTasks();\r\n}\r\nfunction deleteTask(i) {\r\n    app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks.splice(i, 1);\r\n    displayTasks();\r\n}\r\nfunction editTask() {\r\n    if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.taskIndex >= 0) {\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.editTaskWindow.style.display = 'block';\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.deleteTask.onclick = () => {\r\n            //delete penalties\r\n            if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[app_state__WEBPACK_IMPORTED_MODULE_0__.state.taskIndex].isFeeding) {\r\n                deletePen1();\r\n            }\r\n            else if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[app_state__WEBPACK_IMPORTED_MODULE_0__.state.taskIndex].finishFeeding) {\r\n                deletePen2();\r\n            }\r\n            deleteTask(app_state__WEBPACK_IMPORTED_MODULE_0__.state.taskIndex);\r\n            app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.editTaskWindow.style.display = 'none';\r\n        };\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.submitTask.onclick = () => {\r\n            if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[app_state__WEBPACK_IMPORTED_MODULE_0__.state.taskIndex].canSubmit) {\r\n                if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[app_state__WEBPACK_IMPORTED_MODULE_0__.state.taskIndex].repeats) {\r\n                    hideTask(app_state__WEBPACK_IMPORTED_MODULE_0__.state.taskIndex);\r\n                }\r\n                else {\r\n                    deleteTask(app_state__WEBPACK_IMPORTED_MODULE_0__.state.taskIndex);\r\n                }\r\n                succeedTask();\r\n                app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.editTaskWindow.style.display = 'none';\r\n            }\r\n        };\r\n        app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.buttons.cancelEditTask.onclick = () => {\r\n            app_htmlElements__WEBPACK_IMPORTED_MODULE_1__.divs.editTaskWindow.style.display = 'none';\r\n        };\r\n    }\r\n}\r\nfunction checkTasks() {\r\n    for (let i = 0; i < app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks.length; i++) {\r\n        const due = getTimeStamp(app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].date + ' ' + app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].time);\r\n        const now = Math.floor(Date.now() / 1000);\r\n        //check tasks if expired and remove \r\n        if (due < now) {\r\n            deleteTask(i);\r\n            failTask();\r\n        }\r\n        //checks task submit cd\r\n        if (now > app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].canSubmitTime) {\r\n            app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].canSubmit = true;\r\n        }\r\n        //checks if task is feeding \r\n        if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].isFeeding) {\r\n            feedPet();\r\n        }\r\n        if (now > app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].endFeed) {\r\n            app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].isFeeding = false;\r\n            app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].finishFeeding = true;\r\n        }\r\n        else if (now > app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].startFeed) {\r\n            app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].isFeeding = true;\r\n        }\r\n        if (app_state__WEBPACK_IMPORTED_MODULE_0__.state.tasks[i].repeats) {\r\n            if (now % app_gameConstants__WEBPACK_IMPORTED_MODULE_2__.taskDef.repeatCd === 0) {\r\n                showTask(i);\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://alttp/./app/tasks.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./app/client.ts");
/******/ 	
/******/ })()
;